<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
        $.ajax({ ... })  type url data success error 

        axios  只是一个 基于原声ajax封装的  插件工具
        在你需要发送ajax 的时候 ， 引入即可

        使用：
        1、下载  npm i axios 
        2、 引包
        3、 发送请求

        axios({
            method: 请求方式，  get  post put patch delete 
            url: 请求地址 ,   //http://localhost:3000/list
            data:{},   //参数对象在body  请求体中传递，post  put patch 
            params:{}   //参数对象， 在url 地址栏中传递， ？xx=xx  get  delete 
        }).then(成功的函数).catch(失败函数)
     -->
    <script src="./node_modules/axios/dist/axios.js"></script>
    <script>
        // get 获取、查询
        // post 添加
        // deleete  删除
        // put 全部修改
        //patch 局部修改

        //如果发送的请求简单，可以利用axios 简写的语法
        /* 
        1、get 和 delete 类似
        axios.get(url).then(成功的函数)
        axios.get(url,{
            params:{.....}
        }).then(成功的函数)       
        2、 post 和 put 和 patch 类似
        axios.post(url,data).then(成功的函数)
           */

        // 测试
        //1、 发送get 请求，获取全部的数据
        // axios({
        //     method: 'get',
        //     url:'http://localhost:3000/list'
        // }).then((res) => {
        //     //后台返回数据
        //     console.log(res.data);
        // }).catch(err => {
        //     alert('404，没找到')
        // })


        // axios({
        //     method:'get',
        //     url:'http://localhost:3000/list?name_like=车'  // like 后不用引号
        // }).then(res => {
        //     console.log(res.data);
        // })

        //(2)在params中传递
        // axios({
        //     method: 'get',
        //     url: 'http://localhost:3000/list',
        //     params: {
        //         name_like: '车'
        //     }
        // }).then(res => {
        //     console.log(res.data);
        // })
        

        //axios发送post请求，添加
        // put patch post 的参数  ，都在 data  中
        // json -server  要求请求的传输格式 json 格式，axios  默认的请求body  的传输格式， 就是json格式

        axios({
            method:'post',
            url:'http://localhost:3000/list',
            data:{
                name:'棒棒棒',
                price: 1
            }
        }).then(res => {
            console.log('添加成功');
            console.log(res.data);
        })

    </script>
</body>

</html>